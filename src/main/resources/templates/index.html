<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Welcome to main page</title>
  </head>
  <body>
    <h1>Welcome to main page</h1>
    <!-- Login form visible only when we are not logged in -->
    <div th:if="${#authorization.expression('!isAuthenticated()')}">
      <h2>Login</h2>
      <form action="/login" method="post">
        <input type="text" name="username" placeholder="Username" />
        <input type="password" name="password" placeholder="Password" />
        <input type="submit" value="Log In" />
      </form>
      <h3>You do not have an account?</h3>
      <a href="/register">Sign Up</a>
    </div>

    <div th:if="${#authorization.expression('isAuthenticated()')}">
      <a href="/account">my account</a>
      <form th:action="@{/logout}" method="post">
        <input type="submit" value="Log out" />
      </form>
    </div>

    <div th:if="${param.error}">Invalid username or password.</div>
  </body>
</html>
